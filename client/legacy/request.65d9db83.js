import{U as e,V as r}from"./client.cc74eb84.js";import{s as t,g as n,_ as a}from"./cache.93869d0d.js";function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){c(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var u=function(){var a=e(r.mark(function e(){var a,c,o,u;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n("all_countries_cache_key"))){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,fetch("https://coronavirus-19-api.herokuapp.com/countries");case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,u=o.map(function(e){return s({},e,{location:b(e.country)})}),t("all_countries_cache_key",u),e.abrupt("return",u);case 12:case"end":return e.stop()}},e)}));return function(){return a.apply(this,arguments)}}(),i=function(){var a=e(r.mark(function e(){var a,c,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n("all_world_cache_key"))){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,fetch("https://corona.lmao.ninja/all");case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,t("all_world_cache_key",o),e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));return function(){return a.apply(this,arguments)}}(),p=function(){var a=e(r.mark(function e(){var a,c,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n("world_data_cache_key"))){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,fetch("https://corona.lmao.ninja/historical");case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,t("world_data_cache_key",o),e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));return function(){return a.apply(this,arguments)}}(),f=function(){var a=e(r.mark(function e(a){var c,o,s,u,i;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=b(a),!(s=n(o="country_timeline_cache_key_"+c))){e.next=6;break}return console.log("cache hit"),e.abrupt("return",s.timeline);case 6:return e.next=8,fetch("https://corona.lmao.ninja/historical/"+c);case 8:return u=e.sent,e.next=11,u.json();case 11:return i=e.sent,t(o,i),e.abrupt("return",i.timeline);case 14:case"end":return e.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),l=function(){var t=e(r.mark(function e(t){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.abrupt("return",e.sent.find(function(e){return e.location.toLowerCase()===t.toLowerCase()}));case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=e(r.mark(function e(t,n){var c,o,u,i;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return c=e.sent,o=c.find(function(e){return e.country.toLowerCase()===b(t).toLowerCase()&&e.province.toLowerCase()===n.toLowerCase()}),u=a.last(a.keys(o.timeline.cases)),i={location:o.province,cases:o.timeline.cases[u],recovered:o.timeline.recovered[u],deaths:o.timeline.deaths[u]},e.abrupt("return",s({},i,{timeline:o.timeline}));case 7:case"end":return e.stop()}},e)}));return function(e,r){return t.apply(this,arguments)}}(),v=function(){var t=e(r.mark(function e(t){var n;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,e.abrupt("return",n.filter(function(e){return e.country.toLowerCase()===b(t.toLowerCase())&&!a.isEmpty(e.province)&&!e.province.toLowerCase().includes("princess")}).map(function(e){var r=a.last(a.keys(e.timeline.cases));return{location:a.startCase(e.province),cases:e.timeline.cases[r],recovered:e.timeline.recovered[r],deaths:e.timeline.deaths[r]}}).filter(function(e){return e.cases>0}));case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),b=function(e){return e.toLowerCase().includes("korea")?"korea, south":e};export{u as a,h as b,v as c,f as d,l as e,i as g};
