import{S as e,i as a,s as t,b as s,p as o,c as r,f as c,g as n,q as i,d as l,h,j as d,a as u,k as v,u as f,n as m,R as p,G as y,v as g,w as $,x as b,T as C,U as D,A as S,B as E,C as w,e as x,O as L,E as I,V as P,H as k,z as H,D as V}from"./client.1f9d4882.js";import{_ as A,f as T,F as M,T as R,d as B}from"./helpers.f7508edd.js";function N(e){let a,t,p,y,g,$,b,C,D,S,E,w,x,L,I,P,k,H,V,A,T,M,R,B,N,O,F,U,K,j,G,J,Y,q,z,Q,W,X,Z,_=e[0].toLocaleString()+"",ee=e[1].toLocaleString()+"",ae=e[2].toLocaleString()+"",te=e[3].toLocaleString()+"",se=e[4].toLocaleString()+"",oe=e[6].toLocaleString()+"",re=e[5].toLocaleString()+"",ce=e[7].toLocaleString()+"";return{c(){a=s("div"),t=s("div"),p=s("div"),y=s("h3"),g=o("Cases: "),$=o(_),b=r(),C=s("h3"),D=o("Cases Today: "),S=o(ee),E=r(),w=s("h3"),x=o("Cases Per Million: "),L=o(ae),I=r(),P=s("div"),k=s("h3"),H=o("Recovered: "),V=o(te),A=r(),T=s("h3"),M=o("Active: "),R=o(se),B=r(),N=s("h3"),O=o("Critical: "),F=o(oe),U=r(),K=s("div"),j=s("h3"),G=o("Deaths: "),J=o(re),Y=r(),q=s("h3"),z=o("Deaths Today: "),Q=o(ce),W=r(),X=s("div"),Z=s("canvas"),this.h()},l(e){a=c(e,"DIV",{class:!0});var s=n(a);t=c(s,"DIV",{class:!0});var o=n(t);p=c(o,"DIV",{class:!0});var r=n(p);y=c(r,"H3",{});var d=n(y);g=i(d,"Cases: "),$=i(d,_),d.forEach(l),b=h(r),C=c(r,"H3",{});var u=n(C);D=i(u,"Cases Today: "),S=i(u,ee),u.forEach(l),E=h(r),w=c(r,"H3",{});var v=n(w);x=i(v,"Cases Per Million: "),L=i(v,ae),v.forEach(l),r.forEach(l),I=h(o),P=c(o,"DIV",{class:!0});var f=n(P);k=c(f,"H3",{});var m=n(k);H=i(m,"Recovered: "),V=i(m,te),m.forEach(l),A=h(f),T=c(f,"H3",{});var ne=n(T);M=i(ne,"Active: "),R=i(ne,se),ne.forEach(l),B=h(f),N=c(f,"H3",{});var ie=n(N);O=i(ie,"Critical: "),F=i(ie,oe),ie.forEach(l),f.forEach(l),U=h(o),K=c(o,"DIV",{class:!0});var le=n(K);j=c(le,"H3",{});var he=n(j);G=i(he,"Deaths: "),J=i(he,re),he.forEach(l),Y=h(le),q=c(le,"H3",{});var de=n(q);z=i(de,"Deaths Today: "),Q=i(de,ce),de.forEach(l),le.forEach(l),W=h(o),X=c(o,"DIV",{class:!0});var ue=n(X);Z=c(ue,"CANVAS",{}),n(Z).forEach(l),ue.forEach(l),o.forEach(l),s.forEach(l),this.h()},h(){d(p,"class","four wide column"),d(P,"class","four wide column"),d(K,"class","four wide column"),d(X,"class","four wide column"),d(t,"class","ui grid"),d(a,"class","ui container")},m(s,o){u(s,a,o),v(a,t),v(t,p),v(p,y),v(y,g),v(y,$),v(p,b),v(p,C),v(C,D),v(C,S),v(p,E),v(p,w),v(w,x),v(w,L),v(t,I),v(t,P),v(P,k),v(k,H),v(k,V),v(P,A),v(P,T),v(T,M),v(T,R),v(P,B),v(P,N),v(N,O),v(N,F),v(t,U),v(t,K),v(K,j),v(j,G),v(j,J),v(K,Y),v(K,q),v(q,z),v(q,Q),v(t,W),v(t,X),v(X,Z),e[9](Z)},p(e,[a]){1&a&&_!==(_=e[0].toLocaleString()+"")&&f($,_),2&a&&ee!==(ee=e[1].toLocaleString()+"")&&f(S,ee),4&a&&ae!==(ae=e[2].toLocaleString()+"")&&f(L,ae),8&a&&te!==(te=e[3].toLocaleString()+"")&&f(V,te),16&a&&se!==(se=e[4].toLocaleString()+"")&&f(R,se),64&a&&oe!==(oe=e[6].toLocaleString()+"")&&f(F,oe),32&a&&re!==(re=e[5].toLocaleString()+"")&&f(J,re),128&a&&ce!==(ce=e[7].toLocaleString()+"")&&f(Q,ce)},i:m,o:m,d(t){t&&l(a),e[9](null)}}}function O(e,a,t){let s,{cases:o=0}=a,{todayCases:r=0}=a,{casesPerOneMillion:c=0}=a,{recovered:n=0}=a,{active:i=0}=a,{deaths:l=0}=a,{critical:h=0}=a,{todayDeaths:d=0}=a;return p(()=>{new Chart(s.getContext("2d"),{type:"pie",data:{labels:["Deaths","Recovered","Active"],datasets:[{data:[l,n,i],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"]}]},options:{}})}),e.$set=(e=>{"cases"in e&&t(0,o=e.cases),"todayCases"in e&&t(1,r=e.todayCases),"casesPerOneMillion"in e&&t(2,c=e.casesPerOneMillion),"recovered"in e&&t(3,n=e.recovered),"active"in e&&t(4,i=e.active),"deaths"in e&&t(5,l=e.deaths),"critical"in e&&t(6,h=e.critical),"todayDeaths"in e&&t(7,d=e.todayDeaths)}),[o,r,c,n,i,l,h,d,s,function(e){y[e?"unshift":"push"](()=>{t(8,s=e)})}]}class F extends e{constructor(e){super(),a(this,e,O,N,t,{cases:0,todayCases:1,casesPerOneMillion:2,recovered:3,active:4,deaths:5,critical:6,todayDeaths:7})}}function U(e){let a,t;return{c(){a=s("div"),t=s("canvas"),this.h()},l(e){a=c(e,"DIV",{class:!0});var s=n(a);t=c(s,"CANVAS",{}),n(t).forEach(l),s.forEach(l),this.h()},h(){d(a,"class","ui container")},m(s,o){u(s,a,o),v(a,t),e[2](t)},p:m,i:m,o:m,d(t){t&&l(a),e[2](null)}}}function K(e,a,t){let s,{historicData:o}=a;return p(()=>{new Chart(s.getContext("2d"),{type:"line",data:{datasets:[{label:"Cases",data:A.keys(o.cases).map(e=>({x:e,y:o.cases[e]})),fill:!1,borderColor:"rgb(100, 0, 200)"},{label:"Deaths",data:A.keys(o.deaths).map(e=>({x:e,y:o.deaths[e]})),fill:!1,borderColor:"rgb(255, 99, 132)"},{label:"Recovered",data:A.keys(o.recovered).map(e=>({x:e,y:o.recovered[e]})),fill:!1,borderColor:"rgb(54, 162, 235)"}]},options:{responsive:!0,title:{display:!0,text:"Covid-19 Stats"},scales:{xAxes:[{type:"time",time:{parser:"M/D/YY",tooltipFormat:"ll"},scaleLabel:{display:!0,labelString:"Date"}}],yAxes:[{scaleLabel:{display:!0,labelString:"Total Cases / Recovered / Deaths Reported"}}]}}})}),e.$set=(e=>{"historicData"in e&&t(1,o=e.historicData)}),[s,o,function(e){y[e?"unshift":"push"](()=>{t(0,s=e)})}]}class j extends e{constructor(e){super(),a(this,e,K,U,t,{historicData:1})}}const G=e=>({deaths:A.max(A.keys(e.deaths).map(a=>e.deaths[a])),recovered:A.max(A.keys(e.recovered).map(a=>e.recovered[a])),cases:A.max(A.keys(e.cases).map(a=>e.cases[a]))}),J=(e,a)=>e[a.country]?(e[a.country].cases=Y(e[a.country].cases,a.timeline.cases),e[a.country].recovered=Y(e[a.country].recovered,a.timeline.recovered),e[a.country].deaths=Y(e[a.country].deaths,a.timeline.deaths),e):(e[a.country]=q(a.timeline),e),Y=(e,a)=>A.keys(e).reduce((e,t)=>(e[t]+=Math.abs(+a[t]),e),e),q=e=>{const a={};return a.deaths=z(e.deaths),a.recovered=z(e.recovered),a.cases=z(e.cases),a},z=e=>A.keys(e).reduce((a,t)=>(a[t]=Math.abs(+e[t]),a),e);var Q={byProvince:(e,a)=>a.data.filter(a=>a.country===e).filter(e=>!A.isEmpty(e.province)).filter(e=>!e.province.includes(",")).filter(e=>!e.province.includes("Princess")).map(e=>{const a=q(e.timeline);return{...e,...G(a),location:e.province}}),byCountry:e=>e.data.reduce(J,{})};function W(e){let a,t,f,m,p,y,x,L,I,k,H;const V=[e[7]];let A={};for(let e=0;e<V.length;e+=1)A=P(A,V[e]);const T=new F({props:A}),M=new j({props:{historicData:e[6]}});return{c(){g(T.$$.fragment),a=r(),t=s("div"),f=s("h2"),m=o("Important Note"),p=r(),y=s("p"),x=o("The information below may not be 100% accurate. It's coming from JHU CSSE\n      GISand Data. The goal is to show the how the covid-19 spreads over time\n      and what people mean when they talk about the curve. For more information\n      please consult the\n      "),L=s("a"),I=o("api github page."),k=r(),g(M.$$.fragment),this.h()},l(e){$(T.$$.fragment,e),a=h(e),t=c(e,"DIV",{id:!0,class:!0});var s=n(t);f=c(s,"H2",{});var o=n(f);m=i(o,"Important Note"),o.forEach(l),p=h(s),y=c(s,"P",{});var r=n(y);x=i(r,"The information below may not be 100% accurate. It's coming from JHU CSSE\n      GISand Data. The goal is to show the how the covid-19 spreads over time\n      and what people mean when they talk about the curve. For more information\n      please consult the\n      "),L=c(r,"A",{href:!0});var d=n(L);I=i(d,"api github page."),d.forEach(l),r.forEach(l),s.forEach(l),k=h(e),$(M.$$.fragment,e),this.h()},h(){d(L,"href","https://github.com/novelcovid/api"),d(t,"id","note"),d(t,"class","ui container svelte-15rke7r")},m(e,s){b(T,e,s),u(e,a,s),u(e,t,s),v(t,f),v(f,m),v(t,p),v(t,y),v(y,x),v(y,L),v(L,I),u(e,k,s),b(M,e,s),H=!0},p(e,a){const t=128&a?C(V,[D(e[7])]):{};T.$set(t);const s={};64&a&&(s.historicData=e[6]),M.$set(s)},i(e){H||(S(T.$$.fragment,e),S(M.$$.fragment,e),H=!0)},o(e){E(T.$$.fragment,e),E(M.$$.fragment,e),H=!1},d(e){w(T,e),e&&l(a),e&&l(t),e&&l(k),w(M,e)}}}function X(e){let a,t,f,m,p,C,D,x,L;function I(a){e[13].call(null,a)}function P(a){e[14].call(null,a)}let V={geoRegionName:"Province / State",selectFields:e[8]};void 0!==e[2]&&(V.sortBy=e[2]),void 0!==e[3]&&(V.search=e[3]);const A=new M({props:V});function T(a){e[15].call(null,a)}y.push(()=>k(A,"sortBy",I)),y.push(()=>k(A,"search",P));let B={geoRegionName:"Province / State",fields:e[8],sortBy:e[2],list:e[1]};void 0!==e[4]&&(B.page=e[4]);const N=new R({props:B});return y.push(()=>k(N,"page",T)),{c(){a=s("div"),t=s("h1"),f=o("Search By Province / State"),m=r(),g(A.$$.fragment),D=r(),g(N.$$.fragment),this.h()},l(e){a=c(e,"DIV",{class:!0});var s=n(a);t=c(s,"H1",{class:!0});var o=n(t);f=i(o,"Search By Province / State"),o.forEach(l),s.forEach(l),m=h(e),$(A.$$.fragment,e),D=h(e),$(N.$$.fragment,e),this.h()},h(){d(t,"class","svelte-15rke7r"),d(a,"class","ui container")},m(e,s){u(e,a,s),v(a,t),v(t,f),u(e,m,s),b(A,e,s),u(e,D,s),b(N,e,s),L=!0},p(e,a){const t={};!p&&4&a&&(p=!0,t.sortBy=e[2],H(()=>p=!1)),!C&&8&a&&(C=!0,t.search=e[3],H(()=>C=!1)),A.$set(t);const s={};4&a&&(s.sortBy=e[2]),2&a&&(s.list=e[1]),!x&&16&a&&(x=!0,s.page=e[4],H(()=>x=!1)),N.$set(s)},i(e){L||(S(A.$$.fragment,e),S(N.$$.fragment,e),L=!0)},o(e){E(A.$$.fragment,e),E(N.$$.fragment,e),L=!1},d(e){e&&l(a),e&&l(m),w(A,e),e&&l(D),w(N,e)}}}function Z(e){let a,t,m,p,y,g,$,b,C,D;document.title=a="Covid 19 "+e[0];let w=!e[5]&&W(e),P=e[1].length>0&&X(e);return{c(){t=r(),m=s("div"),p=s("h1"),y=o("Country "),g=o(e[0]),$=r(),w&&w.c(),b=r(),P&&P.c(),C=x(),this.h()},l(a){L('[data-svelte="svelte-1mt8udu"]',document.head).forEach(l),t=h(a),m=c(a,"DIV",{class:!0});var s=n(m);p=c(s,"H1",{class:!0});var o=n(p);y=i(o,"Country "),g=i(o,e[0]),o.forEach(l),s.forEach(l),$=h(a),w&&w.l(a),b=h(a),P&&P.l(a),C=x(),this.h()},h(){d(p,"class","svelte-15rke7r"),d(m,"class","ui container")},m(e,a){u(e,t,a),u(e,m,a),v(m,p),v(p,y),v(p,g),u(e,$,a),w&&w.m(e,a),u(e,b,a),P&&P.m(e,a),u(e,C,a),D=!0},p(e,[t]){(!D||1&t)&&a!==(a="Covid 19 "+e[0])&&(document.title=a),(!D||1&t)&&f(g,e[0]),e[5]?w&&(V(),E(w,1,1,()=>{w=null}),I()):w?(w.p(e,t),S(w,1)):((w=W(e)).c(),S(w,1),w.m(b.parentNode,b)),e[1].length>0?P?(P.p(e,t),S(P,1)):((P=X(e)).c(),S(P,1),P.m(C.parentNode,C)):P&&(V(),E(P,1,1,()=>{P=null}),I())},i(e){D||(S(w),S(P),D=!0)},o(e){E(w),E(P),D=!1},d(e){e&&l(t),e&&l(m),e&&l($),w&&w.d(e),e&&l(b),P&&P.d(e),e&&l(C)}}}async function _(e){return{country:e.params.country}}function ee(e,a,t){let{country:s}=a,o=function(e){return"UK"===e?"United Kingdom":"S. Korea"===e?"Korea, South":e}(s),r=[],c=[],n="none",i="",l=0,h=!0,d={};let u={deaths:0,active:0,recovered:0,cases:0,casesPerOneMillion:0,todayDeaths:0,todayCases:0};return p(()=>{B.subscribe(e=>{console.log(e),e&&(t(9,r=Q.byProvince(o,e.historicData)),t(6,d=Q.byCountry(e.historicData)[o]),t(1,c=Q.byProvince(o,e.historicData)[o]),t(7,u=e.dataByCountry.data.find(e=>e.location===s)),t(5,h=!1))})}),e.$set=(e=>{"country"in e&&t(0,s=e.country)}),e.$$.update=(()=>{520&e.$$.dirty&&t(1,c=T(r,i)),8&e.$$.dirty&&i.length>0&&t(4,l=0)}),[s,c,n,i,l,h,d,u,["Cases","Deaths","Recovered"],r,o,void 0,void 0,function(e){t(2,n=e)},function(e){t(3,i=e)},function(e){t(4,l=e),t(3,i)}]}export default class extends e{constructor(e){super(),a(this,e,ee,Z,t,{country:0})}}export{_ as preload};
