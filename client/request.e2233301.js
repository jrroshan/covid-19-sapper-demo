import{_ as e,g as a,s as t}from"./cache.88c3fac8.js";const o=async()=>{const e=a("all_countries_cache_key");if(e)return e;const o=await fetch("https://coronavirus-19-api.herokuapp.com/countries"),s=(await o.json()).map(e=>({...e,location:h(e.country)}));return t("all_countries_cache_key",s),s},s=async()=>{const e=a("all_world_cache_key");if(e)return e;const o=await fetch("https://corona.lmao.ninja/all"),s=await o.json();return t("all_world_cache_key",s),s},c=async()=>{const e=a("world_data_cache_key");if(e)return e;const o=await fetch("https://corona.lmao.ninja/historical"),s=await o.json();return t("world_data_cache_key",s),s},n=async e=>{const o=h(e),s="country_timeline_cache_key_"+o,c=a(s);if(c)return console.log("cache hit"),c.timeline;const n=await fetch("https://corona.lmao.ninja/historical/"+o),r=await n.json();return t(s,r),r.timeline},r=async e=>(await o()).find(a=>a.location.toLowerCase()===e.toLowerCase()),i=async(a,t)=>{const o=(await c()).find(e=>e.country.toLowerCase()===h(a).toLowerCase()&&e.province.toLowerCase()===t.toLowerCase()),s=e.last(e.keys(o.timeline.cases));return{...{location:o.province,cases:o.timeline.cases[s],recovered:o.timeline.recovered[s],deaths:o.timeline.deaths[s]},timeline:o.timeline}},l=async a=>{return(await c()).filter(t=>t.country.toLowerCase()===h(a.toLowerCase())&&!e.isEmpty(t.province)&&!t.province.toLowerCase().includes("princess")).map(a=>{const t=e.last(e.keys(a.timeline.cases));return{location:e.startCase(a.province),cases:a.timeline.cases[t],recovered:a.timeline.recovered[t],deaths:a.timeline.deaths[t]}}).filter(e=>e.cases>0)},h=e=>e.toLowerCase().includes("korea")?"korea, south":e;export{s as a,i as b,r as c,n as d,l as e,o as g};
